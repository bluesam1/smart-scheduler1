# Story 0.1: Project Setup & Backend Infrastructure

## Status
Approved

## Story

**As a** developer,
**I want** a properly structured .NET 8 backend project with database setup and basic infrastructure,
**so that** I can build the SmartScheduler API on a solid foundation.

## Acceptance Criteria

1. **Project Structure:** Create .NET 8 solution with Clean Architecture layers (Domain, Application, Infrastructure, API)
2. **Database Setup:** PostgreSQL 15+ database with PostGIS extension configured
3. **EF Core Configuration:** Entity Framework Core 8.0 configured with PostgreSQL provider
4. **Database Migrations:** Migration system set up and initial empty database schema created
5. **Health Check Endpoint:** `/health` endpoint returns API status
6. **Project Organization:** Repository structure matches architecture spec (`src/Api/`, `src/Application/`, `src/Domain/`, `src/Infrastructure/`)
7. **Dependencies:** All required NuGet packages installed (MediatR, EF Core, SignalR, etc.)
8. **Configuration:** appsettings.json with database connection string placeholder
9. **Logging:** Serilog configured for structured logging
10. **Development Environment:** Project runs locally on port 5004 (per architecture spec)

## Tasks / Subtasks

- [ ] Create .NET 8 solution structure
  - [ ] Create `src/SmartScheduler.sln`
  - [ ] Create `src/SmartScheduler.Api/` project (ASP.NET Core Web API)
  - [ ] Create `src/SmartScheduler.Application/` project (Class Library)
  - [ ] Create `src/SmartScheduler.Domain/` project (Class Library)
  - [ ] Create `src/SmartScheduler.Infrastructure/` project (Class Library)
  - [ ] Create `src/SmartScheduler.Realtime/` project (Class Library for SignalR)
- [ ] Configure EF Core
  - [ ] Install EF Core PostgreSQL provider
  - [ ] Create `DbContext` base class
  - [ ] Configure connection string in appsettings.json
- [ ] Set up database
  - [ ] Create initial migration
  - [ ] Configure PostGIS extension in migration
  - [ ] Document database setup process
- [ ] Implement health check endpoint
  - [ ] Add health check middleware
  - [ ] Return API status and timestamp
- [ ] Configure logging
  - [ ] Install Serilog packages
  - [ ] Configure structured logging to console
  - [ ] Set up CloudWatch logging configuration (for future deployment)
- [ ] Install core dependencies
  - [ ] MediatR 12.x
  - [ ] EF Core 8.0
  - [ ] SignalR 8.0
  - [ ] NSwag for OpenAPI generation
- [ ] Create basic API structure
  - [ ] Configure Minimal APIs pattern
  - [ ] Set up OpenAPI/Swagger documentation
  - [ ] Configure CORS for frontend (localhost:3000)
- [ ] Document setup process
  - [ ] README with setup instructions
  - [ ] Database connection guide

## Dev Notes

### Relevant Source Tree Info
- Backend structure: `src/SmartScheduler.*/` projects
- API project: `src/SmartScheduler.Api/`
- Database context: `src/SmartScheduler.Infrastructure/Data/SmartSchedulerDbContext.cs`
- Configuration: `src/SmartScheduler.Api/appsettings.json`

### Architecture References
- **Tech Stack:** See `docs/architecture/tech-stack.md`
- **Repository Structure:** See `docs/architecture/high-level-architecture.md` section "Repository Structure"
- **Database:** PostgreSQL 15+ with PostGIS extension (see architecture spec)

### Testing Standards
- **Test Project Location:** `src/SmartScheduler.Api.Tests/`
- **Testing Framework:** xUnit 2.x
- **Test Standards:** Unit tests for domain logic, integration tests for API endpoints
- **Health Check Test:** Verify `/health` endpoint returns 200 with status

### UI Integration Notes
- Frontend already exists at `frontend/` and expects API at `http://localhost:5004`
- CORS must be configured to allow `http://localhost:3000` (Next.js dev server)
- Health check will be used by frontend to verify API availability

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-XX | 1.0 | Initial story created | Sarah (PO) |

## Dev Agent Record

### Agent Model Used
_To be populated by dev agent_

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent_

