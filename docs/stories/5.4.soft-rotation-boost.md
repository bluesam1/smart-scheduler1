# Story 5.4: Soft Rotation Boost

## Status
Approved

## Story

**As a** system,
**I want** a soft rotation boost for underutilized contractors,
**so that** work is distributed fairly and contractors don't monopolize jobs.

## Acceptance Criteria

1. **Rotation Detection:** Identify underutilized qualified contractors
2. **Boost Calculation:** Calculate rotation boost based on utilization
3. **Boost Application:** Apply boost to final score (small boost)
4. **Configurable:** Boost amount configurable
5. **Fair Distribution:** Prevents contractor monopolies
6. **Optional Factor:** Rotation is optional soft factor
7. **Integration:** Integrated with scoring algorithm
8. **Documentation:** Rotation boost documented
9. **Testing:** Comprehensive tests
10. **Monitoring:** Track boost impact

## Tasks / Subtasks

- [ ] Implement utilization tracking
  - [ ] Track contractor utilization over time
  - [ ] Calculate utilization percentage
  - [ ] Identify underutilized contractors
- [ ] Implement boost calculation
  - [ ] Calculate boost based on utilization
  - [ ] Apply small boost (configurable)
  - [ ] Ensure boost doesn't override quality
- [ ] Integrate with scoring
  - [ ] Add rotation as optional factor
  - [ ] Apply boost to final score
  - [ ] Include in score breakdown
- [ ] Make boost configurable
  - [ ] Add boost amount to config
  - [ ] Allow enabling/disabling
  - [ ] Support regional variations
- [ ] Add unit tests
  - [ ] Test boost calculation
  - [ ] Test boost application
  - [ ] Test fairness impact
- [ ] Add monitoring
  - [ ] Track boost usage
  - [ ] Monitor distribution fairness
  - [ ] Alert on imbalances

## Dev Notes

### Relevant Source Tree Info
- Rotation service: `src/SmartScheduler.Application/Recommendations/Services/RotationBoostService.cs`
- Integration: Used in scoring flow

### Architecture References
- **Soft Rotation:** See `docs/prd.md` section "Tie-breakers & Fairness"
- **Fairness:** Prevent monopolies - see PRD
- **Optional Factor:** Rotation is optional - see architecture

### Testing Standards
- **Test Location:** `src/SmartScheduler.Application.Tests/`
- **Rotation Tests:** Test boost calculation, fairness impact

### UI Integration Notes
- Rotation boost affects recommendation order
- Boost may be shown in score breakdown
- UI displays ranked recommendations

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-XX | 1.0 | Initial story created | Sarah (PO) |

## Dev Agent Record

### Agent Model Used
_To be populated by dev agent_

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent_

