# Story 9.2: Connect Settings UI to API

## Status
Approved

## Story

**As a** system administrator,
**I want** the settings UI to use real APIs,
**so that** I can actually manage job types and skills.

## Acceptance Criteria

1. **Job Types Integration:** Job types UI calls Settings API
2. **Skills Integration:** Skills UI calls Settings API
3. **Replace Mock:** All mock data replaced with API calls
4. **CRUD Operations:** Create, update, delete work via API
5. **Error Handling:** Proper error messages
6. **Loading States:** Loading indicators
7. **Validation:** Client-side validation matches backend
8. **Success Feedback:** Success messages
9. **Type Safety:** TypeScript types match API
10. **User Experience:** Smooth settings management

## Tasks / Subtasks

- [ ] Update Settings page
  - [ ] Replace mock data with API calls
  - [ ] Call GET /settings/job-types
  - [ ] Call GET /settings/skills
- [ ] Update job types management
  - [ ] Connect add job type to POST API
  - [ ] Connect update to PUT API
  - [ ] Connect delete to DELETE API
- [ ] Update skills management
  - [ ] Connect add skill to POST API
  - [ ] Connect update to PUT API
  - [ ] Connect delete to DELETE API
- [ ] Add error handling
  - [ ] Display API errors
  - [ ] Handle in-use errors on delete
  - [ ] Handle validation errors
- [ ] Add loading states
  - [ ] Show loading indicators
  - [ ] Disable interactions during operations
- [ ] Add success feedback
  - [ ] Success toast notifications
  - [ ] Refresh lists after changes
- [ ] Add validation
  - [ ] Client-side validation
  - [ ] Match backend validation rules

## Dev Notes

### Relevant Source Tree Info
- Settings page: `frontend/app/settings/page.tsx`
- API client: `frontend/lib/api/generated/api-client.ts`

### Architecture References
- **API Specification:** See `docs/architecture/api-specification.md` for Settings endpoints
- **UI Components:** Settings page exists - see `frontend/app/settings/page.tsx`

### Testing Standards
- **Test Location:** `frontend/__tests__/`
- **Component Tests:** Test API integration, CRUD operations
- **E2E Tests:** Playwright tests for settings management

### UI Integration Notes
- **Existing UI:** Settings UI is 95% complete with mock data
- **Page:** `frontend/app/settings/page.tsx` has job types and skills management
- **Mock Data:** Currently uses mock data - needs API replacement

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-XX | 1.0 | Initial story created | Sarah (PO) |

## Dev Agent Record

### Agent Model Used
_To be populated by dev agent_

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent_

